<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>sinfonia urbana</title>
  <link rel="stylesheet" href="style.css">
</head>
</head>
<body>
  <div class="container-general">

    <!-- Contenedor 1 -->
    <div class="video-container">
      
      <video class="video" autoplay loop muted>
        <source src="assets/basket.mp4" type="video/mp4" />
        Tu navegador no soporta video.
      </video>

      <div class="custom-controls">
        <div class="left-controls">
          <button class="play-btn" aria-label="Play/Pause">â–¶ï¸</button>
          <button class="mute-btn" aria-label="Silenciar">ğŸ”‡</button>
        </div>
        <input type="range" class="volume-slider" min="0" max="100" value="50" aria-label="Volumen" />
      </div>
    </div>

    <!-- Contenedor 2 -->
    <div class="video-container">
      
      <video class="video" autoplay loop muted>
        <source src="assets/basket.mp4" type="video/mp4" />
        Tu navegador no soporta video.
      </video>

      <div class="custom-controls">
        <div class="left-controls">
          <button class="play-btn" aria-label="Play/Pause">â–¶ï¸</button>
          <button class="mute-btn" aria-label="Silenciar">ğŸ”‡</button>
        </div>
        <input type="range" class="volume-slider" min="0" max="100" value="50" aria-label="Volumen" />
      </div>
    </div>

    <!-- Contenedor 3 -->
    <div class="video-container">
      
      <video class="video" autoplay loop muted>
        <source src="assets/basket.mp4" type="video/mp4" />
        Tu navegador no soporta video.
      </video>

      <div class="custom-controls">
        <div class="left-controls">
          <button class="play-btn" aria-label="Play/Pause">â–¶ï¸</button>
          <button class="mute-btn" aria-label="Silenciar">ğŸ”‡</button>
        </div>
        <input type="range" class="volume-slider" min="0" max="100" value="50" aria-label="Volumen" />
      </div>
    </div>

  </div>

  <script>
    // Esperar a que el DOM cargue
    document.addEventListener("DOMContentLoaded", () => {
      // Seleccionamos todos los contenedores que tengan video y controles
      const containers = document.querySelectorAll(".video-container");

      containers.forEach((container) => {
        // buscamos el video y los controles DENTRO del mismo contenedor
        const video = container.querySelector(".video");
        const playBtn = container.querySelector(".play-btn");
        const muteBtn = container.querySelector(".mute-btn");
        const volumeSlider = container.querySelector(".volume-slider");

        // Inicializar el slider con el volumen actual del video
        // (y si el video estÃ¡ muted, lo reflejamos)
        const initialVolume = (video.volume !== undefined) ? Math.round(video.volume * 100) : 50;
        if (volumeSlider) volumeSlider.value = initialVolume;

        // Play / Pause
        if (playBtn && video) {
          const updatePlayIcon = () => {
            playBtn.textContent = video.paused ? "â–¶ï¸" : "â¸ï¸";
          };

          playBtn.addEventListener("click", () => {
            if (video.paused) video.play();
            else video.pause();
            updatePlayIcon();
          });

          // Actualizar icono si el usuario usa controles nativos o APIs externas
          video.addEventListener("play", updatePlayIcon);
          video.addEventListener("pause", updatePlayIcon);
          updatePlayIcon();
        }

        // Mute / Unmute
        if (muteBtn && video) {
          const updateMuteIcon = () => {
            muteBtn.textContent = video.muted ? "ğŸ”ˆ" : "ğŸ”‡";
          };

          muteBtn.addEventListener("click", () => {
            video.muted = !video.muted;
            updateMuteIcon();
          });

          video.addEventListener("volumechange", updateMuteIcon);
          updateMuteIcon();
        }

        // Control de volumen (slider)
        if (volumeSlider && video) {
          volumeSlider.addEventListener("input", (e) => {
            const val = Number(e.target.value);
            video.volume = val / 100;
            // si el usuario sube volumen, desmuteamos automÃ¡ticamente
            if (video.muted && val > 0) {
              video.muted = false;
            }
          });

          // sincronizar slider si volumen cambia desde otra parte
          video.addEventListener("volumechange", () => {
            if (!volumeSlider.matches(":active")) {
              volumeSlider.value = Math.round(video.volume * 100);
            }
          });
        }
      });
    });
  </script>
</body>
</html>

